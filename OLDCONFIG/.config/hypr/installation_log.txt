# New Arch Linux Installation Commands

## Introduction
These installation notes should only serve as a reference to what should be done, and which commands to use, and how. Depending on the device the commands have to be adjusted. For further (and more detailed) instructions refer to:
https://wiki.archlinux.org/title/Installation_guide

## Setup Wi-Fi Internet Connection

iwctl
adapter list
adapter <adapter_name> set-property Powered on
device list
station <device_name> scan
station <device_name> get-networks
station <device_name> connect <network_name>
<input network password>
quit

## Set the System Clock

timedatectl set-timezone <country>/<city>

## Partition the disk with fdisk (optional)

You want two (or more) partitions, on for uefi/boot and one for root
For older (non uefi systems) ignore the uefi/boot partition

Do not forget to format a newly created partition with:
mkfs.ext4 /dev/nvme0n1p2

## Mount the file systems

fdisk -l
mount <device_name for root> /mnt
mount --mkdir <device_name for efi> /mnt/boot/efi
OR
mount --mkdir <device_name for efi> /mnt/boot

## Update Mirrorlist (optional)

reflector --latest 20 --protocol https --sort rate --download-timeout 120 --save /etc/pacman.d/mirrorlist 

## Install Arch Linux and its essential packages (the ones needed for this repo)

pacstrap -K /mnt base linux linux-firmware networkmanager git sudo vim efibootmgr grub zsh base-devel

### base-devel for AUR yay

## Generate fstab file to remember mounting information

genfstab -U /mnt > /mnt/etc/fstab

## Create system name, system password, user name

arch-chroot /mnt
echo <hostname> > /etc/hostname
passwd
useradd -m -G wheel <username> -s /usr/bin/zsh
passwd <username>
visudo  # Uncomment '%wheel ALL=(ALL) ALL' to grant sudo rights

## Install and Configure Bootloader

lsblk
grub-install --recheck /dev/<Name> # Name of the main disk, not a partition
grub-mkconfig -o /boot/grub/grub.cfg

## Exit Arch Chroot and Reboot

exit
reboot

# POST INSTALLATION COMMANDS

## Disable Terminal Sounds

echo "blacklist pcspkr" | sudo tee /etc/modprobe.d/nobeep.conf

## install basic packages

echo "Installing essential base packages..."
sudo pacman -S --needed --noconfirm  amd-ucode intel-ucode rtkit curl
## Internet

sudo systemctl enable NetworkManager

## Terminal

chsh -s /usr/bin/zsh
sudo chsh -s /usr/bin/zsh
sudo pacman -S --needed --noconfirm zsh-autosuggestions zsh-completions zsh-syntax-highlighting
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

## Bluetooth
sudo pacman -S --needed --noconfirm bluez bluez-utils
sudo systemctl enable bluetooth
rfkill unblock bluetooth

## Audio
sudo pacman -S --needed --noconfirm pipewire pipewire-pulse wireplumber
systemctl --user enable pipewire.service
systemctl --user enable pipewire-pulse.service
systemctl --user enable wireplumber.service

## Control
sudo pacman -S --needed --noconfirm brightnessctl


## AUR yay

git clone https://aur.archlinux.org/yay-bin.git /tmp/yay-bin
chown -R $(logname):$(logname) /tmp/yay-bin
sudo -u $(logname) makepkg -D /tmp/yay-bin -si --noconfirm
sudo rm -rf /tmp/yay-bin

## Hyprland

sudo pacman -S --needed --noconfirm hyprland hyprpaper waybar hyprlock rofi-wayland
yay -S --needed --noconfirm hypraway
sudo pacman -S --needed --noconfirm dunst
# systemctl enable --user dunst.service
sudo pacman -S --needed --noconfirm network-manager-applet pavucontrol blueman  
sudo pacman -S --needed --noconfirm thunar thunar-volman kitty geany firefox


## Fonts

sudo pacman -S --needed --noconfirm otf-font-awesome
yay -S --needed --noconfirm ttf-jetbrains-mono-nerd
fc-cache -fv

## TODO

better file handling with thunar with gvfs, gvfs-mtp, ntfs-3g, ffmpegthumbnailer, tumbler, xdg-user-dirs xdg-utils?
firewall ufw?
clipboard?
fonts?
System info tools (optional but nice): hyprsysteminfo or fastfetch?
changing wallpapers with 
auto start hyprland in locked mode



# modified config files
~/.zshrc
~/.zprofile
~/.config/hypr/hyrpland.conf
